{
    "openapi": "3.0.0",
    "info": {
        "version": "1.0.0",
        "title": "WU_API",
        "description": "This is a API for WhatsUp 24/7",
        "contact": {
            "name": "WhatsUp 24/7 Support",
            "email": "support@whatsup237.com"
        },
        "license": {
            "name": "MIT"
        }
    },
    "servers": [
        {
            "url": "https://api.whatsup247.com/v1"
        }
	],
	"tags": [
		{
			"name": "events",
			"description": "Event calls"
		},
		{
			"name": "organizations",
			"description": "Organization calls"
		},
		{
			"name": "destinations",
			"description": "Destination calls"
		}
	],
    "paths": {
		"/event": {
			"get": {
				"summary": "Request a specific event",
				"operationId": "getEvent",
				"tags": [
					"events"
				],
				"parameters": [
					{
						"name": "id",
                        "in": "query",
						"description": "ID of the event",
						"required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int64"
                        }
					}
				],
				"responses": {
					"200": {
						"description": "Event Details",
						"content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Events"
                                }
                            }
                        }
					},
					"405": {
						"description": "Event does not exist"
					},
					"default": {
                        "description": "unexpected error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
				}
			}
		},
		"/events": {
			"get": {
				"summary": "Request a list of events",
				"operationId": "listEvents",
				"tags": [
					"events"
				],
				"parameters": [
					{
						"name": "zip",
						"in": "query",
						"description": "Area Zip Code",
						"required": true,
						"schema": {
                            "type": "string"
                        }
					},
					{
						"name": "distance",
						"in": "query",
						"description": "Radius around zip code in miles",
						"schema": {
							"type": "integer",
							"default": 30
						}
					},
					{
						"name": "dateFrom",
						"in": "query",
						"description": "Date the list of events starts from",
						"schema": {
							"type": "string",
							"example": "YYYY-MM-DD",
							"default": "Current Date"
						}
					},
					{
						"name": "categories",
						"in": "query",
						"description": "Categories to filter the list of events separated by a semicolon",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "limit",
						"in": "path",
						"description": "The number of events to return at a time",
						"schema": {
							"type": "integer",
							"default": 20
						}
					},
					{
						"name": "page",
						"in": "path",
						"description": "Page number for returning events",
						"schema": {
							"type": "integer"
						}
					},
					{
						"name": "search",
						"in": "query",
						"description": "Search query term",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "List of Events",
						"content": {
                            "application/json": {
                                "schema": {
									"type": "array",
                                    "$ref": "#/components/schemas/Events"
                                }
                            }
                        }
					},
					"500": {
						"description": "Invalid Zip Code"
					},
					"default": {
                        "description": "unexpected error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
				}
			}
		},
		"/organization": {
			"get": {
				"summary": "Get specific organization",
				"operationId": "getOrganization",
				"tags": [
					"organizations"
				],
				"parameters": [
					{
						"name": "id",
                        "in": "path",
						"description": "ID of the organization",
						"required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int64"
                        }
					}
				],
				"responses": {
					"200": {
						"description": "Organization Details",
						"content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Organizations"
                                }
                            }
                        }
					},
					"405": {
						"description": "Organization does not exist"
					},
					"default": {
                        "description": "unexpected error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
				}
			}
		}
    },
    "components": {
        "schemas": {
			"Events": {
				"type": "object",
				"required": [
					"id",
					"name",
					"zip"
				],
				"properties": {
					"id": {
                        "type": "integer",
                        "format": "int64"
                    },
					"parent": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "name": {
                        "type": "string"
					},
					"description": {
						"type": "string"
					},
					"content": {
						"type": "string"
					},
					"start": {
						"type": "string"
					},
					"end": {
						"type": "string"
					},
					"local_timezone": {
						"type": "string"
					},
					"location": {
						"type": "string"
					},
					"address": {
						"type": "string"
					},
					"city": {
						"type": "string"
					},
					"zip": {
						"type": "string"
					},
					"contact_name": {
						"type": "string"
					},
					"contact_phone": {
						"type": "number",
						"format": "phone"
					},
					"contact_email": {
						"type": "string",
						"format": "email"
					},
					"website": {
						"type": "string",
						"format": "url"
					},
					"fee_details": {
						"type": "string"
					},
					"flyer": {
						"type": "string"
					},
					"image": {
						"type": "string"
					}
				}
			},
            "Organizations": {
				"type": "object",
				"required": [
					"id",
					"name",
					"email",
					"zip"
				],
				"properties": {
					"id": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "name": {
                        "type": "string"
					},
					"description": {
						"type": "string"
					},
					"email": {
						"type": "string",
						"format": "email"
					},
					"contact_name": {
						"type": "string"
					},
					"contact_phone": {
						"type": "number",
						"format": "phone"
					},
					"location": {
						"type": "string"
					},
					"address": {
						"type": "string"
					},
					"city": {
						"type": "string"
					},
					"zip": {
						"type": "string"
					},
					"website": {
						"type": "string",
						"format": "url"
					},
					"logo": {
						"type": "string"
					},
					"image": {
						"type": "string"
					}
				}
			},
            "Error": {
                "type": "object",
                "required": [
                    "code",
                    "message"
                ],
                "properties": {
                    "code": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "message": {
                        "type": "string"
                    }
                }
            }
        }
    }
}